<!DOCTYPE html>
<html>

<head>
    <!-- increment the v= if theres a css change, that way browsers will refresh their cache -->
    <link rel="stylesheet" href="https://tdzie.github.io/QuickSign/styles/CSize.css?v=1001" />
    <link rel="stylesheet" href="bulk_shared.css?v=1009" />
    <link rel="stylesheet" href="bulk_c.css?v=1003" />
    <title>Bulk Sign Print - C Size</title>
    <link rel="icon" type="image/png" href="images/icon.png?v=01">
</head>

<body>
    <fieldset class="desktop tool">
        <legend>
            <div id="tool-head">
                <h1 class="head-txt" style="margin: 0;">Bulk Print - <span>C Size</span></h1>
            </div>
        </legend>
        <div style="margin:auto;margin-top: -15px;margin-bottom:12px; width: fit-content;">
            <a class="action" href="https://tdzie.github.io/QuickSign/">Back to QuickSign</a>
            <a class="action" href="index.html">Help & Instructions</a>
        </div>

        <div style="display: flex;flex-direction: row;align-items: center;gap:8px">
            <input type="text" id="stor-input" autocomplete="off"
                placeholder="Click Load or Paste Sign Information Here">

            <!--         
            <button class="action" onclick="load(true)">Import Mobile / Section Scan</button>
            <button class="action" onclick="load(false)">Import from Favorites</button> 
            -->
            <button class="action" onclick="load(true)">Load Signs</button>
            <button class="action" onclick="show_print_dialog()">Print</button>
        </div>

    </fieldset>

    <template id="c-section">
        <div class="print-page section-header hidden">
            <div id="del-section-btn">
                - Remove Section Label
            </div>
            <div id="outline">
                <div></div>
                <input id="sectionLabel" type="text" placeholder="Section Label" />
                <div></div>
            </div>
            <div id="new-section-btn">
                + Add Section Label
            </div>
        </div>
    </template>
    <template id="c-sign">
        <div class="print-page">
            <div id="outline">
                <header class="noPrint">
                    Everyone <span>Loves to Save</span>
                    <button id="del-sign-btn" class="action" style="float:right">X</button>
                </header>
                <div id="desBox">
                    <div id="mainDescription">Type main item here. 2 lines maximum. Do not use all caps.</div>
                    <div id="altDescription">
                        Do NOT change the font size/style. Just re-type your new copy here.
                        This info should reflect a description of the above - sizes, varieties, etc.
                    </div>
                    <div id="saleDate">ON SALE THRU 12/21/2024</div>
                </div>
                <div id="price">
                    <div id="pLeft" width="auto"></div>
                    <div id="priceBeforeDecimal">5</div>
                    <div id="priceAfterDecimal">99</div>
                    <div id="pRight"></div>
                </div>
                <footer>
                    <div id="unitBox">
                        <span style="font-family: 'Trade Gothic Bold Condensed';font-size:16px">UNIT PRICE</span>
                        <div id="unitPriceBox">19.99</div>
                        <div id="unitType">PER POUND</div>
                    </div>
                    <div id="rightBox">
                        <div id="mustBuy" style="height: 20px">
                            <div id="MustBuyInner">
                                <input placeholder="CLICK TO ENTER MUST BUY / OTHER INFO"/>
                            </div>
                            <div id="LBOption">lb.</div>


                        </div>
                        <div id="advCardDiv">
                            <span class="with-adv">WITH <span>AdvantEdge</span> CARD</span>
                            <span class="retail-price">Regular Retail: </span>
                            <div id="retail">2</div>
                        </div>
                        <div id="youSaveBoxDiv">
                            <div id="youSaveImg">
                                <span class="yousave">YOU SAVE</span>
                                <div id="youSavePriceMain">3</div>
                                <div id="youSavePriceAlt">99</div>
                                <div id="youSavePriceLb">lb.</div>
                                <div id="whenYouBuy" style="display:none">
                                    <p style="margin-top: 2px; margin-bottom: 2px;">WHEN</p>
                                    <p style="margin-top: -5px; margin-bottom: 1px;">YOU</p>
                                    <div style="margin-top: -4px;" id="spanWhenYouBuy">BUY X</div>
                                </div>
                            </div>
                        </div>
                        <div id="mixMatch"></div>
                    </div>
                </footer>
            </div>
        </div>
    </template>
    <div class="print">
        <div id="print-container">
        </div>
    </div>

    <div id="error-popup-wrap" class="error-popup-wrapper">
        <div class="error-popup">
            <h3>Error</h3>
            <p id="error-msg">Error Message.</p>

            <button onclick="hide_error_popup()" class="action" id="close-error">OK</button>
        </div>
    </div>

    <div id="print-dialog">
        <div class="error-popup">
            <h3>Confirm Print</h3>
            <p>You are about to print <span id="print-count"></span> signs.</p>
            <p>Make sure you load at least <span id="print-count"></span> signs before confirming.</p>

            <h3>Important!</h3>
            <h4>The following options MUST be set or your signs will not print correctly.</h4>
            <div>
                <div>
                    <ul>
                        <li>
                            <p>Layout: <span>Portrait</span></p>
                        </li>
                        <p style="text-align: left;"><span>More Settings <svg width="20" height="20" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg" class="c0183">
                                    <path
                                        d="M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 01-.78 0L4.15 8.35a.5.5 0 01.7-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0z">
                                    </path>
                                </svg></span></p>
                        <li>
                            <p>Paper Size: <span>Letter</span></p>
                        </li>
                        <li>
                            <p>Scale (%): <span>Actual size</span></p>
                        </li>
                        <li>
                            <p>Margins: <span>Default</span></p>
                        </li>
                        <li>
                            <p>Options: Headers and Footers: <span>UNCHECKED</span></p>
                        </li>
                        <li>
                            <p>Options: Background Graphics: <span>UNCHECKED</span></p>
                        </li>
                    </ul>
                </div>
                <img id="printer-instructions-img" src="images/c.svg">
            </div>
            <button onclick="cancel_print()" class="action">Cancel</button>
            <button onclick="confirm_print()" class="action">Confirm</button>
        </div>
    </div>

    <script>
        const print_container = document.getElementById("print-container")
        const sign_template = document.getElementById("c-sign")

        function create_sign(element, addSectionHeader = null) {
            const newSign = sign_template.content.cloneNode(true);
            const [_onSale, _perLb, itemName, altDescription, rawOnSaleThru, priceType, unitType, unitAmt, retailPrice, XforXVal, salePriceRaw, ...mobileLoadData] = element;

            const onSale = _onSale === "onSale";
            const perLb = _perLb !== "off";
            let onSaleThru = rawOnSaleThru;
            const salePrice = salePriceRaw.toString();
            let mustBuy = mobileLoadData[mobileLoadData.length - 1] || null;
            let validForMustBuy = mobileLoadData[mobileLoadData.length - 2] || false;
[["OffSale","on","Wonder bread","20 oz","ON SALE THRU 10/1/2023","dollarCents","POUND","20",3.79,"2",3.79,"B",false,false,"007225001137",false,0.01,0,false,3.79],["OffSale","on","Frito Lay 28 ct. mix","28 ct. bags","ON SALE THRU 10/1/2023","dollarCents","100 COUNT","28",21.29,"2",21.29,"B",true,true,"002840069433",false,0.01,0,false,21.29],["onSale","on","Sara Lee honey wheat bread","20 oz.","ON SALE THRU 10/1/2023","forOne","POUND","20",4.49,2,6,"B",false,false,"007294560136",false,0.01,"0",true,3],["onSale","on","PICS k-cup coffee","12 count","ON SALE THRU 10/1/2023","dollarCents","100 COUNT","12",6.49,2,4.99,"B",false,false,"004173506881",false,0.01,0,false,4.99],["onSale","on","PICS single serve coffee 48 count","48 pods","ON SALE THRU 10/1/2023","dollarCents","100 COUNT","48",21.49,2,17.99,"B",false,false,"004173500295",false,0.01,0,false,17.99],["onSale","on","PICS round top wheat bread","20 oz.","ON SALE THRU 10/1/2023","forOne","POUND","20",3.19,2,5,"B",false,false,"004173507130",false,0.01,0,false,2.5],["onSale","on","PICS round top wheat bread","20 oz.","ON SALE THRU 10/1/2023","forOne","POUND","20",3.19,2,5,"B",false,false,"004173507130",false,0.01,0,false,2.5],["onSale","on","Polar seltzer 12 pack","12 fl. oz. cans","ON SALE THRU 10/1/2023","forOne","QUART","144",6.29,2,9,"B",false,false,"007153720161",false,0.01,0,false,4.5],["onSale","on","Polar seltzer 12 pack","12 fl. oz. cans","ON SALE THRU 10/1/2023","forOne","QUART","144",6.29,2,9,"B",false,false,"007153720161",false,0.01,0,false,4.5],["onSale","on","Smartfood popcorn party size","9.75 oz","ON SALE THRU 10/1/2023","forOne","POUND","9.75",7.29,2,8,"B",false,false,"002840031413",false,0.01,"2",true,4],["onSale","on","Smartfood popcorn party size","9.75 oz","ON SALE THRU 10/1/2023","forOne","POUND","9.75",7.29,2,8,"B",false,false,"002840031413",false,0.01,"2",true,4],["onSale","on","Coca-Cola 2 liter","Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","67.6",2.99,2,4,"B",false,false,"004900005010",false,0.01,"2",true,2],["onSale","on","Coca-Cola 2 liter","Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","67.6",2.99,2,4,"B",false,false,"004900005010",false,0.01,"2",true,2],["onSale","on","Snyders Chocolate Covered Pretzels","6 oz","ON SALE THRU 10/1/2023","forOne","POUND","6",4.49,2,8,"B",false,false,"007797508247",false,0.01,"0",true,4],["onSale","on","Lay's party size chips","12.5 - 17 oz","ON SALE THRU 10/1/2023","forOne","POUND","12.5,17",6.19,2,8,"B",false,false,"002840031041",false,0.01,"0",true,4],["OffSale","on","Archway Cookies","6 oz","ON SALE THRU 10/1/2023","dollarCents","POUND","6",4.79,2,4.79,"B",false,false,"002750009541",false,0.01,0,false,4.79],["onSale","on","Nabisco family size Oreos","12.08-20 oz","ON SALE THRU 10/1/2023","dollarCents","POUND","12.08,20",6.29,2,4.99,"B",false,false,"004400006025",false,0.01,0,false,4.99],["onSale","on","PICS spring water 35 pack","16.9 fl oz bottles. Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","591.5",5.79,2,9,"B",false,false,"004173508803",false,0.01,0,false,4.5],["onSale","on","PICS spring water 35 pack","16.9 fl oz bottles. Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","591.5",5.79,2,9,"B",false,false,"004173508803",false,0.01,0,false,4.5],["onSale","on","PICS spring water 35 pack","16.9 fl oz bottles. Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","591.5",5.79,2,9,"B",false,false,"004173508803",false,0.01,0,false,4.5],["onSale","on","Poppi probiotic soda can","12 fl. oz.","ON SALE THRU 10/1/2023","forOne","QUART","12",2.49,2,4,"B",true,true,"081006371007",false,0.01,"0",true,2],["onSale","on","PICS potato or tortilla chips","10-12 oz.","ON SALE THRU 10/1/2023","forOne","POUND","10,12",2.69,2,5,"B",false,false,"004173508003",false,0.01,0,false,2.5],["onSale","on","Goya organic beans","15.5 oz.","ON SALE THRU 10/1/2023","forOne","POUND","15.5",2.39,2,3,"B",false,false,"004133102344",false,0.01,0,false,1.5],["onSale","on","Bounty Double Plus 6 roll paper towels","305-340 sq. ft.","ON SALE THRU 10/1/2023","dollarCents","50 COUNT","305",18.99,2,17.99,"B",false,false,"003077206166",false,0.01,0,false,17.99],["onSale","on","Downy liquid fabric softener","140 oz.","ON SALE THRU 10/1/2023","dollarCents","POUND","140",14.99,2,12.99,"B",false,false,"003077210051",false,0.01,0,false,12.99],["onSale","on","Arm & Hammer liquid laundry detergent","100.5 oz","ON SALE THRU 10/1/2023","dollarCents","QUART","100.5",10.49,2,8.99,"B",false,false,"003320000261",false,0.01,0,false,8.99],["OffSale","on","Handi-Foil giant oval roaster w/handles","","ON SALE THRU 10/1/2023","dollarCents","EACH","1",5.79,2,5.79,"B",false,false,"005209202022",false,0.01,0,false,5.79],["OffSale","on","Stove Top stuffing","6 oz","ON SALE THRU 10/1/2023","dollarCents","POUND","6",3.29,2,3.29,"B",false,false,"004300028555",false,0.01,0,false,3.29],["onSale","on","Pics stuffing","","ON SALE THRU 10/1/2023","forOne","POUND","6",2.19,2,4,"B",false,false,"004173506282",false,0.01,"0",true,2],["onSale","on","PICS Stuffing","6 oz.","ON SALE THRU 10/1/2023","forOne","POUND","6",2.19,2,4,"B",false,false,"004173508339",false,0.01,"0",true,2],["onSale","on","Rinaldi pasta sauce","24 oz.","ON SALE THRU 10/1/2023","forOne","QUART","24",2.49,4,5,"B",false,false,"007764430432",false,0.01,0,false,1.25],["onSale","on","Rinaldi pasta sauce","24 oz.","ON SALE THRU 10/1/2023","forOne","QUART","24",2.49,4,5,"B",false,false,"007764430432",false,0.01,0,false,1.25],["onSale","on","PICS jarred gravy","12 oz. • all varieties","ON SALE THRU 10/1/2023","forOne","POUND","12",2.19,2,4,"B",true,true,"004173516511",false,0.01,"0",true,2],["onSale","on","PICS jarred gravy","12 oz. • all varieties","ON SALE THRU 10/1/2023","forOne","POUND","1",2.19,2,4,"B",true,true,"004173516511",false,0.01,"0",true,2],["onSale","on","Andy Cap fries","3 oz","ON SALE THRU 10/1/2023","forOne","POUND","3",1.99,4,5,"B",false,false,"002620047158",false,0.01,0,false,1.25],["onSale","on","Andy Cap fries","3 oz","ON SALE THRU 10/1/2023","forOne","POUND","3",1.99,4,5,"B",false,false,"002620047158",false,0.01,0,false,1.25],["onSale","on","Snack Pack pudding 4 pack","13 oz.","ON SALE THRU 10/1/2023","forOne","POUND","13",1.99,2,3,"B",false,false,"002700041900",false,0.01,0,false,1.5],["onSale","on","Snack Pack pudding 4 pack","13 oz.","ON SALE THRU 10/1/2023","forOne","POUND","13",1.99,2,3,"B",false,false,"002700041900",false,0.01,0,false,1.5],["onSale","on","Pics rice cakes","6 oz","ON SALE THRU 10/1/2023","forOne","POUND","6",3.19,2,5,"B",false,false,"004173515890",false,0.01,0,false,2.5],["onSale","on","Pics rice cakes","6 oz","ON SALE THRU 10/1/2023","forOne","POUND","6",3.19,2,5,"B",false,false,"004173515890",false,0.01,0,false,2.5],["onSale","on","Nabisco wheat thins","8 - 8.5 oz","ON SALE THRU 10/1/2023","forOne","POUND","8,8.5",3.99,2,7,"B",false,false,"004400006923",false,0.01,0,false,3.5],["onSale","on","Nabisco wheat thins","8 - 8.5 oz","ON SALE THRU 10/1/2023","forOne","POUND","8,8.5",3.99,2,7,"B",false,false,"004400006923",false,0.01,0,false,3.5],["onSale","on","Nabisco Saltine Crackers","16 oz","ON SALE THRU 10/1/2023","forOne","POUND","16",4.49,2,6,"B",false,false,"004400000057",false,0.01,"0",true,3],["onSale","on","Nabisco Saltine Crackers","16 oz","ON SALE THRU 10/1/2023","forOne","POUND","16",4.49,2,6,"B",false,false,"004400000057",false,0.01,"0",true,3],["onSale","on","Nabisco Chips Ahoy! cookies","13 oz","ON SALE THRU 10/1/2023","forOne","POUND","1",3.99,2,6,"B",false,false,"004400003219",false,0.01,"0",true,3],["onSale","on","PICS family size cereal","21 - 24 oz.","ON SALE THRU 10/1/2023","dollarCents","POUND","21,24",4.99,2,4.49,"B",false,false,"004173505911",false,0.01,0,false,4.49],["onSale","on","Coca-Cola 2 liter","Plus deposit where required","ON SALE THRU 10/1/2023","forOne","QUART","67.6",2.99,2,4,"B",false,false,"004900005010",false,0.01,"2",true,2],["onSale","on","On The Border Tortilla Chips","11oz.","ON SALE THRU 10/1/2023","forOne","POUND","11",4.59,2,7,"B",false,false,"078113871011",false,0.01,0,false,3.5],["onSale","on","Ruffles Party size chips","12.5 - 13 oz.","ON SALE THRU 10/1/2023","forOne","POUND","12.5,13",7.29,2,8,"B",false,false,"002840051774",false,0.01,"0",true,4]] 
            // Mobile load always sets it to 10/1/2023, so let's update it here
            if (onSaleThru == "ON SALE THRU 10/1/2023") {
                const today = new Date();
                const saturday = new Date(today.setDate(today.getDate() - today.getDay() + 6));
                onSaleThru = `ON SALE THRU ${saturday.toLocaleDateString("en-US")}`;
            }

            function setSavings(priceDifference) {
                priceDifference = parseFloat(priceDifference).toFixed(2)
                if (priceDifference >= 1.0) {
                    newSign.querySelector("#youSavePriceMain").innerHTML = priceDifference.toString().split('.')[0];
                    newSign.querySelector("#youSavePriceAlt").innerHTML = priceDifference.toString().split('.')[1];
                }
                else {

                    newSign.querySelector("#youSavePriceMain").innerHTML = '.' + priceDifference.toString().split('.')[1];
                    newSign.querySelector("#youSavePriceAlt").innerHTML = '';
                }
            }

            let priceDiff = (retailPrice - salePrice);
            newSign.querySelector("#mainDescription").innerHTML = itemName
            newSign.querySelector("#altDescription").innerHTML = altDescription
            newSign.querySelector("#saleDate").innerHTML = onSaleThru
            if (!onSale) {
                newSign.querySelector("#saleDate").style.display = "None"
                newSign.querySelector("#youSaveBoxDiv").style.display = "None"
                newSign.querySelector("#advCardDiv").style.display = "None"
            }
            else {
                setSavings(priceDiff)
                newSign.querySelector("#retail").innerHTML = retailPrice;
            }
            if (!perLb) {
                newSign.querySelector("#LBOption").style.display = "None"
                newSign.querySelector("#youSavePriceLb").style.display = "None"
            }
            else {
                newSign.querySelector("#retail").innerHTML = retailPrice + '/lb.';
            }

            // Change the price tag style
            switch (priceType) {
                case 'cents':
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = salePrice < 1 ? salePrice.toString().replace("0.", ".") : salePrice;
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"
                    newSign.querySelector("#LBOption").style.top = "-15px"
                    break;
                case 'dollarCents':
                    const [dollars, cents] = salePrice.split('.')
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = dollars
                    newSign.querySelector("#priceBeforeDecimal").style.width = "69%"
                    newSign.querySelector("#priceAfterDecimal").innerHTML = cents
                    break;
                case 'forOne':
                case 'forTwo':
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<span class="xforxval">${XforXVal}/</span><span style="font-size:90px;vertical-align:top;position:relative;top:23px">$</span>${salePrice}`;
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").style.fontSize = "162px"
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"
                    newSign.querySelector("#LBOption").style.top = "-15px"
                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY ${XforXVal}`
                    setSavings((retailPrice - salePrice / XforXVal) * XforXVal);
                    break;
                case 'ten':
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<span class="xforxval">10/</span><span style="font-size:80px;vertical-align:top;position:relative;top:23px">$</span>10`;
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").style.fontSize = "162px"
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"
                    newSign.querySelector("#LBOption").style.top = "-15px"
                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY 10`
                    setSavings(retailPrice * 10 - 10);
                    break;
                case 'bogo':
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<img src="https://tdzie.github.io/QuickSign/images/bogo.jpg" height="140" width="350">`
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"

                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY 2`
                    setSavings(retailPrice);
                    break;
                case 'b2g1':
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<img src="https://tdzie.github.io/QuickSign/images/b2g1.jpg" height="140" width="350">`
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"

                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY 3`
                    setSavings(retailPrice)
                    break;
                case 'b2g2':
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<img src="images/b2g2.svg" height="140" width="350">`
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"

                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY 4`
                    setSavings(retailPrice * 2)
                    break;
                case 'b1g2':
                    newSign.querySelector("#priceBeforeDecimal").style.width = "95%";
                    newSign.querySelector("#priceBeforeDecimal").innerHTML = `<img src="images/b1g2.svg" height="140" width="350">`
                    newSign.querySelector("#priceAfterDecimal").style.display = "none"

                    newSign.querySelector("#whenYouBuy").style.display = "block"
                    newSign.querySelector("#spanWhenYouBuy").innerHTML = `BUY 3`;
                    setSavings(retailPrice * 2);
                    break;
            }

            // unit price
            let unitString = "";
            const suffix = getUnitSuffix(unitType);
            const unit = getUnit(unitType);

            // If we have multiple unit sizes
            if (unitAmt.includes(',')) {
                const sizes = unitAmt.split(',');
                sizes.forEach(size => {
                    unitString += `${size} ${unit}/${calcUnitPrice(size, unitType, salePrice, retailPrice, priceType, XforXVal)} ${suffix}<br/>`
                });
                newSign.querySelector("#unitType").style.display = "None";
                newSign.querySelector("#unitPriceBox").style.fontSize = "13px";
                newSign.querySelector("#unitPriceBox").style.fontFamily = "Trade Gothic Condensed"
            }
            else {
                unitString = `${calcUnitPrice(unitAmt, unitType, salePrice, retailPrice, priceType, XforXVal)}`;
                newSign.querySelector("#unitType").innerHTML = suffix;
            }

            if (validForMustBuy && mustBuy > 1) {
                newSign.querySelector("#MustBuyInner input").value = `WHEN YOU BUY ${mustBuy}`
            }

            newSign.querySelector("#unitPriceBox").innerHTML = unitString;
            newSign.querySelector("#del-sign-btn").addEventListener('click', function () {
                // it may be crazy, but this works to remove the sign and the header attachment
                if (confirm("Are you sure you want to delete this sign? This is not reversable! You will have to re-import the signs to get this one back.")) {
                    thisSignIndex = Array.prototype.indexOf.call(this.parentElement.parentElement.parentElement.parentElement.children, this.parentElement.parentElement.parentElement)
                    console.log(this.parentElement.parentElement.parentElement.parentElement.children[thisSignIndex - 1])
                    this.parentElement.parentElement.parentElement.parentElement.children[thisSignIndex - 1].remove()
                    this.parentElement.parentElement.parentElement.remove();
                }
            })

            // Bind our Add and Remove events for the section header buttons so the user can show and hide it
            sectionHeader = document.getElementById('c-section').content.cloneNode(true);

            sectionHeader.querySelector("#new-section-btn").addEventListener('click', function () {
                this.parentElement.classList.remove('hidden')
            })
            sectionHeader.querySelector("#del-section-btn").addEventListener('click', function () {
                this.parentElement.classList.add('hidden')
            })


            // If we've defined a header text already from QuickSign's section scan page, add it
            if (addSectionHeader !== null) {
                sectionHeader.querySelector("#sectionLabel").value = addSectionHeader;
                print_container.appendChild(sectionHeader);
                // We can't directly access the classList of sectionHeader since that's not a "real" element on the DOM
                // this works perfectly for that to get the section header element
                print_container.lastElementChild.classList.remove('hidden')
            }
            else
                print_container.appendChild(sectionHeader);

            print_container.appendChild(newSign);
        }
    </script>

    <script src="bulk_shared.js"></script>
    <script src="sign_builder.js"></script>
</body>

</html>